<!DOCTYPE html>
<!--
  ~
  ~ Copyright 2018 Damian Perera
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~     
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  ~ index.html in foras
  ~ Created by Damian Perera on 2/27/2018
  ~
  -->

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Foras - Monitoring Dashboard</title>
    <link rel="icon" type="image/png" href="assets/images/favicon.png"><!-- Major Browsers -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style type="text/css">
        @media (min-width: 576px) {
            nav {
                max-width: 540px;
            }
        }
        @media (min-width: 768px) {
            nav {
                max-width: 720px;
            }
        }
        @media (min-width: 992px) {
            nav {
                max-width: 960px;
            }
            .container {
                margin-top: 5% !important;
                margin-bottom: 2% !important;
                height: 86vh !important;
            }
        }
        @media (min-width: 1200px) {
            nav {
                max-width: 1140px;
            }
            .container {
                margin-top: 5% !important;
                margin-bottom: 2.5% !important;
                height: 85vh !important;
            }
        }
        nav {
            width: 100%;
            padding-right: 15px;
            padding-left: 15px;
            margin-right: auto;
            margin-left: auto;
        }
        #footer {
            font-size: 12px;
            color: white;
        }
        a {
            text-decoration: none !important;
            color: darkkhaki;
        }
        a:hover {
            text-decoration: none;
            color: khaki;
        }
        .container {
            background-color: white;
            overflow-y: scroll;
        }
        ::-webkit-scrollbar {
            display: none;
        }
        .clock {
            float: right;
            height: 2vh;
            color: #ffffff;
            font-size: 2vh;
            font-family: sans-serif;
            line-height: 2.4vh;
            display: flex;
            position: relative;
            /*background: green;*/
            overflow: hidden;
        }
        .clock::before, .clock::after {
            content: '';
            width: 7ch;
            height: 3vh;
            position: absolute;
            z-index: 2;
        }
        .clock::after {
            bottom: 0;
        }
        .clock > div {
            display: flex;
        }
        .tick {
            line-height: 2vh;
        }
    </style>
</head>
<body>
<nav class="navbar fixed-top navbar-dark bg-dark">
    <a class="navbar-brand" href="#">
        <h4><span class="badge badge-light">FORAS</span>
            <small>Monitoring Dashboard</small>
        </h4>
    </a>
    <div class="clock">
        <div class="hours">
            <div class="first">
                <div class="number">0</div>
            </div>
            <div class="second">
                <div class="number">0</div>
            </div>
        </div>
        <div class="tick">:</div>
        <div class="minutes">
            <div class="first">
                <div class="number">0</div>
            </div>
            <div class="second">
                <div class="number">0</div>
            </div>
        </div>
        <div class="tick">:</div>
        <div class="seconds">
            <div class="first">
                <div class="number">0</div>
            </div>
            <div class="second infinite">
                <div class="number">0</div>
            </div>
        </div>
    </div>
</nav>
<div class="container">
    <div class="row">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. In non metus eros. Aliquam erat volutpat. Curabitur sit
        amet facilisis urna, vel fermentum sem. Vivamus porttitor mi id sem porttitor, eget posuere nulla dictum.
        Curabitur lobortis felis nec pharetra ornare. In porttitor leo a lectus elementum, in elementum erat vestibulum.
        Proin vel odio sit amet ex varius posuere in in ipsum. Curabitur nulla ligula, fringilla eu orci non, convallis
        sagittis ante. Duis eu mi ac turpis convallis aliquet. Etiam quis enim tincidunt magna semper consectetur id vel
        sapien.

        Maecenas pharetra magna egestas, interdum nibh ut, tincidunt nunc. Duis facilisis eu massa in tristique.
        Phasellus in facilisis tellus, ut posuere leo. Nam consectetur fringilla tortor id blandit. Vivamus tempor
        mauris erat, eget egestas libero feugiat in. Nam egestas ex nec purus congue tempus. Vestibulum eget porta
        augue, a scelerisque purus. Nulla rutrum erat sit amet accumsan efficitur. Phasellus sodales mattis lacinia.
        Nunc dignissim augue ac nulla euismod mattis vulputate quis odio. Phasellus porta feugiat orci eu varius. Fusce
        aliquam tellus ut laoreet pretium. Donec sit amet molestie leo. Donec elit erat, sollicitudin eu tempor eu,
        gravida a ante. In feugiat eros ac sodales mollis. Quisque a facilisis nunc.

        Curabitur lobortis tortor elit, vel sagittis purus tincidunt sed. Suspendisse pretium tempor lectus, a viverra
        enim finibus eget. Quisque purus arcu, viverra sit amet libero sit amet, interdum euismod purus. Maecenas nec
        dolor massa. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Aliquam
        a magna eget lectus finibus sollicitudin. Cras fringilla nisi vitae leo finibus, eu consequat est rutrum. Cras
        in lobortis ante.

        Phasellus id hendrerit velit, ut dapibus dui. Curabitur ullamcorper enim nec velit ullamcorper congue. Nam felis
        tellus, aliquam eu nibh suscipit, rhoncus tincidunt magna. Pellentesque auctor massa eget purus vestibulum, ac
        vestibulum nisi condimentum. Nullam molestie neque a dignissim luctus. Morbi sed maximus ipsum, sed porttitor
        sapien. Nulla tristique diam dignissim sapien scelerisque luctus.

        Interdum et malesuada fames ac ante ipsum primis in faucibus. Proin velit velit, imperdiet quis risus non,
        cursus feugiat justo. Quisque eu libero sem. Curabitur tempor, metus ac elementum hendrerit, risus arcu
        tincidunt tortor, id cursus felis eros vel urna. Maecenas eget orci quis lacus viverra feugiat in at lorem.
        Aliquam vulputate quam sed libero ornare, non elementum justo vestibulum. Nulla sem velit, pellentesque eget
        neque vel, cursus porttitor ipsum. Suspendisse suscipit, erat finibus blandit maximus, ex mi volutpat lorem,
        pellentesque vestibulum dui dolor sed quam. Sed pretium justo eu mauris interdum aliquet eget eget purus. Nulla
        tempus volutpat sem, sit amet pellentesque tellus imperdiet vel. Integer nec felis massa. Aliquam erat volutpat.
        Ut eu iaculis massa.

        Sed vel arcu at lorem feugiat bibendum ut nec odio. Praesent maximus turpis euismod magna pharetra tempor.
        Maecenas gravida, odio in ullamcorper semper, quam velit pharetra orci, sit amet rutrum purus nulla ac justo.
        Aenean mattis lacus nec lectus tincidunt, sed ultrices lectus blandit. Pellentesque iaculis viverra metus vel
        tempus. Cras in sollicitudin magna, vitae viverra augue. Nunc ipsum massa, rhoncus nec eleifend id, elementum
        non nibh. Aliquam viverra urna enim, eget cursus risus sollicitudin sit amet. Pellentesque vel diam eu tellus
        efficitur mollis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;

        Phasellus vel commodo nunc. In vel facilisis massa. Aliquam erat volutpat. Quisque dapibus bibendum felis ut
        tempus. Aenean eget lacus leo. Proin vestibulum, tellus vitae vestibulum sodales, arcu erat ultrices tellus,
        eget iaculis dolor velit id quam. Vivamus ac odio ligula. Pellentesque pharetra ante quam, a sollicitudin dolor
        egestas et. Donec imperdiet rhoncus ipsum at porttitor. Nam commodo massa libero, eget interdum tellus congue
        at. Fusce ullamcorper ante eu dictum suscipit.

        Sed pulvinar commodo pellentesque. Suspendisse pretium tortor eget nisi commodo, in commodo neque ultricies.
        Nulla eu accumsan justo, eget viverra sem. Morbi commodo arcu erat, sit amet laoreet sapien iaculis dapibus.
        Pellentesque id mollis felis. In scelerisque aliquet convallis. Morbi pellentesque a nisi id consectetur. Fusce
        lobortis nunc non magna dapibus lacinia. Mauris mattis rhoncus ipsum, quis auctor neque mattis at. Pellentesque
        dapibus magna ut consectetur consequat. In malesuada tincidunt risus, non ornare purus sagittis sit amet. Lorem
        ipsum dolor sit amet, consectetur adipiscing elit. Praesent aliquam eros nulla, in iaculis nunc pellentesque a.

        Proin egestas magna justo, scelerisque varius orci sagittis placerat. Etiam sodales lectus nisl, et porttitor mi
        tempor in. Integer ornare, arcu vitae porta porttitor, dui nulla eleifend risus, in porttitor lectus neque vel
        justo. Etiam faucibus auctor dui nec convallis. Praesent dapibus euismod hendrerit. Aliquam tristique mauris ac
        libero lacinia vulputate lobortis et ante. Duis at lectus ut nisl ultricies feugiat ultrices ut purus. Class
        aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Integer molestie lacus a
        turpis consectetur, quis facilisis odio bibendum. Duis pulvinar ligula vitae massa vestibulum mollis. Aliquam
        quis ligula ultrices, aliquet orci in, pulvinar dui. Quisque congue mi magna, ut dictum leo euismod sit amet.

        Phasellus euismod dapibus ipsum, eget suscipit nunc condimentum sed. Sed commodo molestie velit, a consectetur
        odio mollis ut. Sed tellus risus, fermentum ut sapien vel, laoreet lobortis elit. Fusce vel sapien vel nisl
        ultrices laoreet lacinia vel nunc. In tincidunt, eros ac posuere ullamcorper, tellus est tristique nunc,
        pharetra convallis eros augue at lectus. Aenean id tincidunt metus, et dictum enim. Maecenas posuere, nunc sed
        pharetra eleifend, augue turpis imperdiet tortor, vel consectetur nisl lacus non nibh. Nam nec nisl quis erat
        convallis vestibulum nec nec tortor. Etiam a orci quis lorem molestie pharetra. Class aptent taciti sociosqu ad
        litora torquent per conubia nostra, per inceptos himenaeos. Vestibulum finibus nibh erat, nec scelerisque dui
        finibus et. Pellentesque ac dapibus tortor. Etiam lacinia ornare tellus, sit amet mattis ligula interdum ut.
        Donec tincidunt tempus lorem. Mauris iaculis diam sit amet suscipit consequat. Nulla lacus dolor, porta nec
        molestie id, feugiat ut turpis.
    </div>
</div>
<nav id="footer" class="navbar fixed-bottom navbar-dark bg-dark">
    <p class="mb-0">&copy; 2018 Damian Perera | Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache
        License 2.0</a></p>
</nav>
<script>
    // 24h clock
    let hoursContainer = document.querySelector('.hours');
    let minutesContainer = document.querySelector('.minutes');
    let secondsContainer = document.querySelector('.seconds');
    let tickElements = Array.from(document.querySelectorAll('.tick'));

    let last = new Date(0);
    last.setUTCHours(-1);

    function updateTime() {
        let now = new Date;

        let lastHours = last.getHours().toString();
        let nowHours = now.getHours().toString();
        if (lastHours !== nowHours) {
            updateContainer(hoursContainer, nowHours)
        }

        let lastMinutes = last.getMinutes().toString();
        let nowMinutes = now.getMinutes().toString();
        if (lastMinutes !== nowMinutes) {
            updateContainer(minutesContainer, nowMinutes)
        }

        let lastSeconds = last.getSeconds().toString();
        let nowSeconds = now.getSeconds().toString();
        if (lastSeconds !== nowSeconds) {
            //tick()
            updateContainer(secondsContainer, nowSeconds)
        }

        last = now
    }

    function tick() {
        tickElements.forEach(t => t.classList.toggle('tick-hidden'))
    }

    function updateContainer(container, newTime) {
        let time = newTime.split('');

        if (time.length === 1) {
            time.unshift('0')
        }


        let first = container.firstElementChild;
        if (first.lastElementChild.textContent !== time[0]) {
            updateNumber(first, time[0])
        }

        let last = container.lastElementChild;
        if (last.lastElementChild.textContent !== time[1]) {
            updateNumber(last, time[1])
        }
    }

    function updateNumber(element, number) {
        //element.lastElementChild.textContent = number
        let second = element.lastElementChild.cloneNode(true);
        second.textContent = number;

        element.appendChild(second);
        element.classList.add('move');

        setTimeout(function () {
            element.classList.remove('move')
        }, 990);
        setTimeout(function () {
            element.removeChild(element.firstElementChild)
        }, 990)
    }

    setInterval(updateTime, 100)
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>
</html>